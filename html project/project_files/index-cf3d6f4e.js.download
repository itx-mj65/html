var nn=Object.defineProperty;var sn=(e,t,n)=>t in e?nn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var $e=(e,t,n)=>(sn(e,typeof t!="symbol"?t+"":t,n),n);function tr(){import.meta.url,import("_").catch(()=>1);async function*e(){}}const on=()=>{const{origin:e,search:t}=document.location,n=new URLSearchParams(t),s=n.get("isFeed"),o=n.get("publishId"),r=[e,s?"feed":"",o].filter(c=>c);n.delete("isFeed"),n.delete("publishId");let i=r.join("/");n.toString().length&&(i+="?".concat(n.toString())),history.replaceState(null,null,i)};on();const rn=function(){const t=typeof document<"u"&&document.createElement("link").relList;return t&&t.supports&&t.supports("modulepreload")?"modulepreload":"preload"}(),an=function(e){return"https://play.gotolstoy.com/2.0.0-l/"+e},Ye={},cn=function(t,n,s){if(!n||n.length===0)return t();const o=document.getElementsByTagName("link");return Promise.all(n.map(r=>{if(r=an(r),r in Ye)return;Ye[r]=!0;const i=r.endsWith(".css"),c=i?'[rel="stylesheet"]':"";if(!!s)for(let u=o.length-1;u>=0;u--){const d=o[u];if(d.href===r&&(!i||d.rel==="stylesheet"))return}else if(document.querySelector('link[href="'.concat(r,'"]').concat(c)))return;const l=document.createElement("link");if(l.rel=i?"stylesheet":rn,i||(l.as="script",l.crossOrigin=""),l.href=r,document.head.appendChild(l),i)return new Promise((u,d)=>{l.addEventListener("load",u),l.addEventListener("error",()=>d(new Error("Unable to preload CSS for ".concat(r))))})})).then(()=>t()).catch(r=>{const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=r,window.dispatchEvent(i),!i.defaultPrevented)throw r})},nr="tolstoyModalOpen",ln="tolstoyModalClose",ut="tolstoyPlayerReady",sr="tolstoyPlayerMetadataChange",or="tolstoyPlayerMutedChange",rr="tolstoyPlayerPlayPause",ir="tolstoyPlayerPlayBackRate",ar="tolstoyPlayerSeek",cr="tolstoyPlay",lr="tolstoyEscapeKeyPressed",ur="tolstoyWatchedProductIds",dr="tolstoyReportModalOpen",fr="tolstoyReportModalClose",pr="showFeedProductModal",hr="toggleFeedCloseButton",Er="showFeedCartMobile",mr="feedPlay",gr="feedPause",yr="videoUnmuted",Sr="productSelected",wr="tolstoyMoveToUrl",_r="tolstoyCloseModalMessage",Rr="tolstoyOpenRebuyCart",Ar="tolstoyOpenKendoModal",Tr="tolstoyIsRebuyAppInstalled",br="tolstoyIsAfterpayAppInstalled",Pr="tolstoyProductCardClick",Or="tolstoyProductCardClickSubscribed",Ir="tolstoyUrlLocaleUpdate",Cr="tolstoyRequestProductsUpdate",Lr="tolstoyProductUpdateResponse",Ur="tolstoyIsNonBaseCurrency",Dr="tolstoyModalMessagingReady",Nr={ready:"tolstoyPreConfigMessengerReady",vodAssetIds:"tolstoyVodAssetIds"},g={pageView:"pageView",sessionStart:"sessionStart",sessionEnd:"sessionEnd",videoPause:"videoPause",videoStart:"videoStart",videoResume:"videoResume",videoReplay:"videoReplay",clickCta:"clickCta",submitInput:"submitInput",collectInfo:"collectInfo",videoResponse:"videoResponse",audioResponse:"audioResponse",imageResponse:"imageResponse",tolstoyClick:"tolstoyClick",chapterSelected:"chapterSelected",chapterPickerOpened:"chapterPickerOpened",videoSeeked:"videoSeeked",shareClick:"shareClick",quizResult:"quizResult",autoplayStart:"autoplayStart"},N={sessionStart:"tolstoyStarted",sessionEnd:"tolstoyReachedEnd",clickCta:"tolstoyAnswerClicked",submitInput:"tolstoyInputSubmit",collectInfo:"tolstoyLeadFormSubmit",videoResponse:"tolstoyVideoSubmit",audioResponse:"tolstoyAudioSubmit",imageResponse:"tolstoyImageSubmit",openGorgias:"tolstoyOpenGorgias",hideGorgias:"tolstoyHideGorgias",openIntercom:"tolstoyOpenIntercom",hideIntercom:"tolstoyHideIntercom",openTawkTo:"tolstoyOpenTawkTo",hideTawkTo:"tolstoyHideTawkTo",openLiveChat:"tolstoyOpenLiveChat",hideLiveChat:"tolstoyHideLiveChat",openHubSpot:"tolstoyOpenHubSpot",hideHubSpot:"tolstoyHideHubSpot",openHelpScout:"tolstoyOpenHelpScout",hideHelpScout:"tolstoyHideHelpScout",openDrift:"tolstoyOpenDrift",hideDrift:"tolstoyHideDrift",openZendesk:"tolstoyOpenZendesk",hideZendesk:"tolstoyHideZendesk"},un="production",We="UA-180961004-6",dn="4003456519730074",Fr="videos.gotolstoy.com",fn="https://api.gotolstoy.com",vr="https://tolstoyprojects221542-prod.s3.amazonaws.com/public",Mr="https://tolstoy-files-prod-output.s3.amazonaws.com",kr="3f8e942efa104ecba7d77cd94845d95a",pn="https://assets.gotolstoy.com",xr="udo8kqf9tsneg0t116idg2afe",Br={}.VITE_REACT_APP_SENTRY_RELEASE,hn={}.VITE_BASE_URL;function dt(e,t){return function(){return e.apply(t,arguments)}}const{toString:En}=Object.prototype,{getPrototypeOf:Fe}=Object,ue=(e=>t=>{const n=En.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),L=e=>(e=e.toLowerCase(),t=>ue(t)===e),de=e=>t=>typeof t===e,{isArray:$}=Array,K=de("undefined");function mn(e){return e!==null&&!K(e)&&e.constructor!==null&&!K(e.constructor)&&I(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const ft=L("ArrayBuffer");function gn(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&ft(e.buffer),t}const yn=de("string"),I=de("function"),pt=de("number"),fe=e=>e!==null&&typeof e=="object",Sn=e=>e===!0||e===!1,ne=e=>{if(ue(e)!=="object")return!1;const t=Fe(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},wn=L("Date"),_n=L("File"),Rn=L("Blob"),An=L("FileList"),Tn=e=>fe(e)&&I(e.pipe),bn=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||I(e.append)&&((t=ue(e))==="formdata"||t==="object"&&I(e.toString)&&e.toString()==="[object FormData]"))},Pn=L("URLSearchParams"),[On,In,Cn,Ln]=["ReadableStream","Request","Response","Headers"].map(L),Un=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Q(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let s,o;if(typeof e!="object"&&(e=[e]),$(e))for(s=0,o=e.length;s<o;s++)t.call(null,e[s],s,e);else{const r=n?Object.getOwnPropertyNames(e):Object.keys(e),i=r.length;let c;for(s=0;s<i;s++)c=r[s],t.call(null,e[c],c,e)}}function ht(e,t){t=t.toLowerCase();const n=Object.keys(e);let s=n.length,o;for(;s-- >0;)if(o=n[s],t===o.toLowerCase())return o;return null}const H=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),Et=e=>!K(e)&&e!==H;function Ae(){const{caseless:e}=Et(this)&&this||{},t={},n=(s,o)=>{const r=e&&ht(t,o)||o;ne(t[r])&&ne(s)?t[r]=Ae(t[r],s):ne(s)?t[r]=Ae({},s):$(s)?t[r]=s.slice():t[r]=s};for(let s=0,o=arguments.length;s<o;s++)arguments[s]&&Q(arguments[s],n);return t}const Dn=(e,t,n,{allOwnKeys:s}={})=>(Q(t,(o,r)=>{n&&I(o)?e[r]=dt(o,n):e[r]=o},{allOwnKeys:s}),e),Nn=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Fn=(e,t,n,s)=>{e.prototype=Object.create(t.prototype,s),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},vn=(e,t,n,s)=>{let o,r,i;const c={};if(t=t||{},e==null)return t;do{for(o=Object.getOwnPropertyNames(e),r=o.length;r-- >0;)i=o[r],(!s||s(i,e,t))&&!c[i]&&(t[i]=e[i],c[i]=!0);e=n!==!1&&Fe(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},Mn=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const s=e.indexOf(t,n);return s!==-1&&s===n},kn=e=>{if(!e)return null;if($(e))return e;let t=e.length;if(!pt(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},xn=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Fe(Uint8Array)),Bn=(e,t)=>{const s=(e&&e[Symbol.iterator]).call(e);let o;for(;(o=s.next())&&!o.done;){const r=o.value;t.call(e,r[0],r[1])}},Hn=(e,t)=>{let n;const s=[];for(;(n=e.exec(t))!==null;)s.push(n);return s},Vn=L("HTMLFormElement"),qn=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,s,o){return s.toUpperCase()+o}),ze=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),jn=L("RegExp"),mt=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),s={};Q(n,(o,r)=>{let i;(i=t(o,r,e))!==!1&&(s[r]=i||o)}),Object.defineProperties(e,s)},Gn=e=>{mt(e,(t,n)=>{if(I(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const s=e[n];if(I(s)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},$n=(e,t)=>{const n={},s=o=>{o.forEach(r=>{n[r]=!0})};return $(e)?s(e):s(String(e).split(t)),n},Yn=()=>{},Wn=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t,ye="abcdefghijklmnopqrstuvwxyz",Ke="0123456789",gt={DIGIT:Ke,ALPHA:ye,ALPHA_DIGIT:ye+ye.toUpperCase()+Ke},zn=(e=16,t=gt.ALPHA_DIGIT)=>{let n="";const{length:s}=t;for(;e--;)n+=t[Math.random()*s|0];return n};function Kn(e){return!!(e&&I(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const Jn=e=>{const t=new Array(10),n=(s,o)=>{if(fe(s)){if(t.indexOf(s)>=0)return;if(!("toJSON"in s)){t[o]=s;const r=$(s)?[]:{};return Q(s,(i,c)=>{const f=n(i,o+1);!K(f)&&(r[c]=f)}),t[o]=void 0,r}}return s};return n(e,0)},Xn=L("AsyncFunction"),Qn=e=>e&&(fe(e)||I(e))&&I(e.then)&&I(e.catch),yt=((e,t)=>e?setImmediate:t?((n,s)=>(H.addEventListener("message",({source:o,data:r})=>{o===H&&r===n&&s.length&&s.shift()()},!1),o=>{s.push(o),H.postMessage(n,"*")}))("axios@".concat(Math.random()),[]):n=>setTimeout(n))(typeof setImmediate=="function",I(H.postMessage)),Zn=typeof queueMicrotask<"u"?queueMicrotask.bind(H):typeof process<"u"&&process.nextTick||yt,a={isArray:$,isArrayBuffer:ft,isBuffer:mn,isFormData:bn,isArrayBufferView:gn,isString:yn,isNumber:pt,isBoolean:Sn,isObject:fe,isPlainObject:ne,isReadableStream:On,isRequest:In,isResponse:Cn,isHeaders:Ln,isUndefined:K,isDate:wn,isFile:_n,isBlob:Rn,isRegExp:jn,isFunction:I,isStream:Tn,isURLSearchParams:Pn,isTypedArray:xn,isFileList:An,forEach:Q,merge:Ae,extend:Dn,trim:Un,stripBOM:Nn,inherits:Fn,toFlatObject:vn,kindOf:ue,kindOfTest:L,endsWith:Mn,toArray:kn,forEachEntry:Bn,matchAll:Hn,isHTMLForm:Vn,hasOwnProperty:ze,hasOwnProp:ze,reduceDescriptors:mt,freezeMethods:Gn,toObjectSet:$n,toCamelCase:qn,noop:Yn,toFiniteNumber:Wn,findKey:ht,global:H,isContextDefined:Et,ALPHABET:gt,generateString:zn,isSpecCompliantForm:Kn,toJSONObject:Jn,isAsyncFn:Xn,isThenable:Qn,setImmediate:yt,asap:Zn};function E(e,t,n,s,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),s&&(this.request=s),o&&(this.response=o,this.status=o.status?o.status:null)}a.inherits(E,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:a.toJSONObject(this.config),code:this.code,status:this.status}}});const St=E.prototype,wt={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{wt[e]={value:e}});Object.defineProperties(E,wt);Object.defineProperty(St,"isAxiosError",{value:!0});E.from=(e,t,n,s,o,r)=>{const i=Object.create(St);return a.toFlatObject(e,i,function(f){return f!==Error.prototype},c=>c!=="isAxiosError"),E.call(i,e.message,t,n,s,o),i.cause=e,i.name=e.name,r&&Object.assign(i,r),i};const es=null;function Te(e){return a.isPlainObject(e)||a.isArray(e)}function _t(e){return a.endsWith(e,"[]")?e.slice(0,-2):e}function Je(e,t,n){return e?e.concat(t).map(function(o,r){return o=_t(o),!n&&r?"["+o+"]":o}).join(n?".":""):t}function ts(e){return a.isArray(e)&&!e.some(Te)}const ns=a.toFlatObject(a,{},null,function(t){return/^is[A-Z]/.test(t)});function pe(e,t,n){if(!a.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=a.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,h){return!a.isUndefined(h[m])});const s=n.metaTokens,o=n.visitor||u,r=n.dots,i=n.indexes,f=(n.Blob||typeof Blob<"u"&&Blob)&&a.isSpecCompliantForm(t);if(!a.isFunction(o))throw new TypeError("visitor must be a function");function l(p){if(p===null)return"";if(a.isDate(p))return p.toISOString();if(!f&&a.isBlob(p))throw new E("Blob is not supported. Use a Buffer instead.");return a.isArrayBuffer(p)||a.isTypedArray(p)?f&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function u(p,m,h){let S=p;if(p&&!h&&typeof p=="object"){if(a.endsWith(m,"{}"))m=s?m:m.slice(0,-2),p=JSON.stringify(p);else if(a.isArray(p)&&ts(p)||(a.isFileList(p)||a.endsWith(m,"[]"))&&(S=a.toArray(p)))return m=_t(m),S.forEach(function(A,v){!(a.isUndefined(A)||A===null)&&t.append(i===!0?Je([m],v,r):i===null?m:m+"[]",l(A))}),!1}return Te(p)?!0:(t.append(Je(h,m,r),l(p)),!1)}const d=[],y=Object.assign(ns,{defaultVisitor:u,convertValue:l,isVisitable:Te});function _(p,m){if(!a.isUndefined(p)){if(d.indexOf(p)!==-1)throw Error("Circular reference detected in "+m.join("."));d.push(p),a.forEach(p,function(S,R){(!(a.isUndefined(S)||S===null)&&o.call(t,S,a.isString(R)?R.trim():R,m,y))===!0&&_(S,m?m.concat(R):[R])}),d.pop()}}if(!a.isObject(e))throw new TypeError("data must be an object");return _(e),t}function Xe(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(s){return t[s]})}function ve(e,t){this._pairs=[],e&&pe(e,this,t)}const Rt=ve.prototype;Rt.append=function(t,n){this._pairs.push([t,n])};Rt.toString=function(t){const n=t?function(s){return t.call(this,s,Xe)}:Xe;return this._pairs.map(function(o){return n(o[0])+"="+n(o[1])},"").join("&")};function ss(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function At(e,t,n){if(!t)return e;const s=n&&n.encode||ss;a.isFunction(n)&&(n={serialize:n});const o=n&&n.serialize;let r;if(o?r=o(t,n):r=a.isURLSearchParams(t)?t.toString():new ve(t,n).toString(s),r){const i=e.indexOf("#");i!==-1&&(e=e.slice(0,i)),e+=(e.indexOf("?")===-1?"?":"&")+r}return e}class os{constructor(){this.handlers=[]}use(t,n,s){return this.handlers.push({fulfilled:t,rejected:n,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){a.forEach(this.handlers,function(s){s!==null&&t(s)})}}const Qe=os,Tt={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},rs=typeof URLSearchParams<"u"?URLSearchParams:ve,is=typeof FormData<"u"?FormData:null,as=typeof Blob<"u"?Blob:null,cs={isBrowser:!0,classes:{URLSearchParams:rs,FormData:is,Blob:as},protocols:["http","https","file","blob","url","data"]},Me=typeof window<"u"&&typeof document<"u",be=typeof navigator=="object"&&navigator||void 0,ls=Me&&(!be||["ReactNative","NativeScript","NS"].indexOf(be.product)<0),us=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),ds=Me&&window.location.href||"http://localhost",fs=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Me,hasStandardBrowserEnv:ls,hasStandardBrowserWebWorkerEnv:us,navigator:be,origin:ds},Symbol.toStringTag,{value:"Module"})),P={...fs,...cs};function ps(e,t){return pe(e,new P.classes.URLSearchParams,Object.assign({visitor:function(n,s,o,r){return P.isNode&&a.isBuffer(n)?(this.append(s,n.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}function hs(e){return a.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Es(e){const t={},n=Object.keys(e);let s;const o=n.length;let r;for(s=0;s<o;s++)r=n[s],t[r]=e[r];return t}function bt(e){function t(n,s,o,r){let i=n[r++];if(i==="__proto__")return!0;const c=Number.isFinite(+i),f=r>=n.length;return i=!i&&a.isArray(o)?o.length:i,f?(a.hasOwnProp(o,i)?o[i]=[o[i],s]:o[i]=s,!c):((!o[i]||!a.isObject(o[i]))&&(o[i]=[]),t(n,s,o[i],r)&&a.isArray(o[i])&&(o[i]=Es(o[i])),!c)}if(a.isFormData(e)&&a.isFunction(e.entries)){const n={};return a.forEachEntry(e,(s,o)=>{t(hs(s),o,n,0)}),n}return null}function ms(e,t,n){if(a.isString(e))try{return(t||JSON.parse)(e),a.trim(e)}catch(s){if(s.name!=="SyntaxError")throw s}return(n||JSON.stringify)(e)}const ke={transitional:Tt,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const s=n.getContentType()||"",o=s.indexOf("application/json")>-1,r=a.isObject(t);if(r&&a.isHTMLForm(t)&&(t=new FormData(t)),a.isFormData(t))return o?JSON.stringify(bt(t)):t;if(a.isArrayBuffer(t)||a.isBuffer(t)||a.isStream(t)||a.isFile(t)||a.isBlob(t)||a.isReadableStream(t))return t;if(a.isArrayBufferView(t))return t.buffer;if(a.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let c;if(r){if(s.indexOf("application/x-www-form-urlencoded")>-1)return ps(t,this.formSerializer).toString();if((c=a.isFileList(t))||s.indexOf("multipart/form-data")>-1){const f=this.env&&this.env.FormData;return pe(c?{"files[]":t}:t,f&&new f,this.formSerializer)}}return r||o?(n.setContentType("application/json",!1),ms(t)):t}],transformResponse:[function(t){const n=this.transitional||ke.transitional,s=n&&n.forcedJSONParsing,o=this.responseType==="json";if(a.isResponse(t)||a.isReadableStream(t))return t;if(t&&a.isString(t)&&(s&&!this.responseType||o)){const i=!(n&&n.silentJSONParsing)&&o;try{return JSON.parse(t)}catch(c){if(i)throw c.name==="SyntaxError"?E.from(c,E.ERR_BAD_RESPONSE,this,null,this.response):c}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:P.classes.FormData,Blob:P.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};a.forEach(["delete","get","head","post","put","patch"],e=>{ke.headers[e]={}});const xe=ke,gs=a.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ys=e=>{const t={};let n,s,o;return e&&e.split("\n").forEach(function(i){o=i.indexOf(":"),n=i.substring(0,o).trim().toLowerCase(),s=i.substring(o+1).trim(),!(!n||t[n]&&gs[n])&&(n==="set-cookie"?t[n]?t[n].push(s):t[n]=[s]:t[n]=t[n]?t[n]+", "+s:s)}),t},Ze=Symbol("internals");function W(e){return e&&String(e).trim().toLowerCase()}function se(e){return e===!1||e==null?e:a.isArray(e)?e.map(se):String(e)}function Ss(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=n.exec(e);)t[s[1]]=s[2];return t}const ws=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Se(e,t,n,s,o){if(a.isFunction(s))return s.call(this,t,n);if(o&&(t=n),!!a.isString(t)){if(a.isString(s))return t.indexOf(s)!==-1;if(a.isRegExp(s))return s.test(t)}}function _s(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,s)=>n.toUpperCase()+s)}function Rs(e,t){const n=a.toCamelCase(" "+t);["get","set","has"].forEach(s=>{Object.defineProperty(e,s+n,{value:function(o,r,i){return this[s].call(this,t,o,r,i)},configurable:!0})})}class he{constructor(t){t&&this.set(t)}set(t,n,s){const o=this;function r(c,f,l){const u=W(f);if(!u)throw new Error("header name must be a non-empty string");const d=a.findKey(o,u);(!d||o[d]===void 0||l===!0||l===void 0&&o[d]!==!1)&&(o[d||f]=se(c))}const i=(c,f)=>a.forEach(c,(l,u)=>r(l,u,f));if(a.isPlainObject(t)||t instanceof this.constructor)i(t,n);else if(a.isString(t)&&(t=t.trim())&&!ws(t))i(ys(t),n);else if(a.isHeaders(t))for(const[c,f]of t.entries())r(f,c,s);else t!=null&&r(n,t,s);return this}get(t,n){if(t=W(t),t){const s=a.findKey(this,t);if(s){const o=this[s];if(!n)return o;if(n===!0)return Ss(o);if(a.isFunction(n))return n.call(this,o,s);if(a.isRegExp(n))return n.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=W(t),t){const s=a.findKey(this,t);return!!(s&&this[s]!==void 0&&(!n||Se(this,this[s],s,n)))}return!1}delete(t,n){const s=this;let o=!1;function r(i){if(i=W(i),i){const c=a.findKey(s,i);c&&(!n||Se(s,s[c],c,n))&&(delete s[c],o=!0)}}return a.isArray(t)?t.forEach(r):r(t),o}clear(t){const n=Object.keys(this);let s=n.length,o=!1;for(;s--;){const r=n[s];(!t||Se(this,this[r],r,t,!0))&&(delete this[r],o=!0)}return o}normalize(t){const n=this,s={};return a.forEach(this,(o,r)=>{const i=a.findKey(s,r);if(i){n[i]=se(o),delete n[r];return}const c=t?_s(r):String(r).trim();c!==r&&delete n[r],n[c]=se(o),s[c]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return a.forEach(this,(s,o)=>{s!=null&&s!==!1&&(n[o]=t&&a.isArray(s)?s.join(", "):s)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const s=new this(t);return n.forEach(o=>s.set(o)),s}static accessor(t){const s=(this[Ze]=this[Ze]={accessors:{}}).accessors,o=this.prototype;function r(i){const c=W(i);s[c]||(Rs(o,i),s[c]=!0)}return a.isArray(t)?t.forEach(r):r(t),this}}he.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);a.reduceDescriptors(he.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(s){this[n]=s}}});a.freezeMethods(he);const C=he;function we(e,t){const n=this||xe,s=t||n,o=C.from(s.headers);let r=s.data;return a.forEach(e,function(c){r=c.call(n,r,o.normalize(),t?t.status:void 0)}),o.normalize(),r}function Pt(e){return!!(e&&e.__CANCEL__)}function Y(e,t,n){E.call(this,e==null?"canceled":e,E.ERR_CANCELED,t,n),this.name="CanceledError"}a.inherits(Y,E,{__CANCEL__:!0});function Ot(e,t,n){const s=n.config.validateStatus;!n.status||!s||s(n.status)?e(n):t(new E("Request failed with status code "+n.status,[E.ERR_BAD_REQUEST,E.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function As(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Ts(e,t){e=e||10;const n=new Array(e),s=new Array(e);let o=0,r=0,i;return t=t!==void 0?t:1e3,function(f){const l=Date.now(),u=s[r];i||(i=l),n[o]=f,s[o]=l;let d=r,y=0;for(;d!==o;)y+=n[d++],d=d%e;if(o=(o+1)%e,o===r&&(r=(r+1)%e),l-i<t)return;const _=u&&l-u;return _?Math.round(y*1e3/_):void 0}}function bs(e,t){let n=0,s=1e3/t,o,r;const i=(l,u=Date.now())=>{n=u,o=null,r&&(clearTimeout(r),r=null),e.apply(null,l)};return[(...l)=>{const u=Date.now(),d=u-n;d>=s?i(l,u):(o=l,r||(r=setTimeout(()=>{r=null,i(o)},s-d)))},()=>o&&i(o)]}const ie=(e,t,n=3)=>{let s=0;const o=Ts(50,250);return bs(r=>{const i=r.loaded,c=r.lengthComputable?r.total:void 0,f=i-s,l=o(f),u=i<=c;s=i;const d={loaded:i,total:c,progress:c?i/c:void 0,bytes:f,rate:l||void 0,estimated:l&&c&&u?(c-i)/l:void 0,event:r,lengthComputable:c!=null,[t?"download":"upload"]:!0};e(d)},n)},et=(e,t)=>{const n=e!=null;return[s=>t[0]({lengthComputable:n,total:e,loaded:s}),t[1]]},tt=e=>(...t)=>a.asap(()=>e(...t)),Ps=P.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,P.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(P.origin),P.navigator&&/(msie|trident)/i.test(P.navigator.userAgent)):()=>!0,Os=P.hasStandardBrowserEnv?{write(e,t,n,s,o,r){const i=[e+"="+encodeURIComponent(t)];a.isNumber(n)&&i.push("expires="+new Date(n).toGMTString()),a.isString(s)&&i.push("path="+s),a.isString(o)&&i.push("domain="+o),r===!0&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Is(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Cs(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function It(e,t){return e&&!Is(t)?Cs(e,t):t}const nt=e=>e instanceof C?{...e}:e;function V(e,t){t=t||{};const n={};function s(l,u,d,y){return a.isPlainObject(l)&&a.isPlainObject(u)?a.merge.call({caseless:y},l,u):a.isPlainObject(u)?a.merge({},u):a.isArray(u)?u.slice():u}function o(l,u,d,y){if(a.isUndefined(u)){if(!a.isUndefined(l))return s(void 0,l,d,y)}else return s(l,u,d,y)}function r(l,u){if(!a.isUndefined(u))return s(void 0,u)}function i(l,u){if(a.isUndefined(u)){if(!a.isUndefined(l))return s(void 0,l)}else return s(void 0,u)}function c(l,u,d){if(d in t)return s(l,u);if(d in e)return s(void 0,l)}const f={url:r,method:r,data:r,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:c,headers:(l,u,d)=>o(nt(l),nt(u),d,!0)};return a.forEach(Object.keys(Object.assign({},e,t)),function(u){const d=f[u]||o,y=d(e[u],t[u],u);a.isUndefined(y)&&d!==c||(n[u]=y)}),n}const Ct=e=>{const t=V({},e);let{data:n,withXSRFToken:s,xsrfHeaderName:o,xsrfCookieName:r,headers:i,auth:c}=t;t.headers=i=C.from(i),t.url=At(It(t.baseURL,t.url),e.params,e.paramsSerializer),c&&i.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):"")));let f;if(a.isFormData(n)){if(P.hasStandardBrowserEnv||P.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if((f=i.getContentType())!==!1){const[l,...u]=f?f.split(";").map(d=>d.trim()).filter(Boolean):[];i.setContentType([l||"multipart/form-data",...u].join("; "))}}if(P.hasStandardBrowserEnv&&(s&&a.isFunction(s)&&(s=s(t)),s||s!==!1&&Ps(t.url))){const l=o&&r&&Os.read(r);l&&i.set(o,l)}return t},Ls=typeof XMLHttpRequest<"u",Us=Ls&&function(e){return new Promise(function(n,s){const o=Ct(e);let r=o.data;const i=C.from(o.headers).normalize();let{responseType:c,onUploadProgress:f,onDownloadProgress:l}=o,u,d,y,_,p;function m(){_&&_(),p&&p(),o.cancelToken&&o.cancelToken.unsubscribe(u),o.signal&&o.signal.removeEventListener("abort",u)}let h=new XMLHttpRequest;h.open(o.method.toUpperCase(),o.url,!0),h.timeout=o.timeout;function S(){if(!h)return;const A=C.from("getAllResponseHeaders"in h&&h.getAllResponseHeaders()),O={data:!c||c==="text"||c==="json"?h.responseText:h.response,status:h.status,statusText:h.statusText,headers:A,config:e,request:h};Ot(function(B){n(B),m()},function(B){s(B),m()},O),h=null}"onloadend"in h?h.onloadend=S:h.onreadystatechange=function(){!h||h.readyState!==4||h.status===0&&!(h.responseURL&&h.responseURL.indexOf("file:")===0)||setTimeout(S)},h.onabort=function(){h&&(s(new E("Request aborted",E.ECONNABORTED,e,h)),h=null)},h.onerror=function(){s(new E("Network Error",E.ERR_NETWORK,e,h)),h=null},h.ontimeout=function(){let v=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const O=o.transitional||Tt;o.timeoutErrorMessage&&(v=o.timeoutErrorMessage),s(new E(v,O.clarifyTimeoutError?E.ETIMEDOUT:E.ECONNABORTED,e,h)),h=null},r===void 0&&i.setContentType(null),"setRequestHeader"in h&&a.forEach(i.toJSON(),function(v,O){h.setRequestHeader(O,v)}),a.isUndefined(o.withCredentials)||(h.withCredentials=!!o.withCredentials),c&&c!=="json"&&(h.responseType=o.responseType),l&&([y,p]=ie(l,!0),h.addEventListener("progress",y)),f&&h.upload&&([d,_]=ie(f),h.upload.addEventListener("progress",d),h.upload.addEventListener("loadend",_)),(o.cancelToken||o.signal)&&(u=A=>{h&&(s(!A||A.type?new Y(null,e,h):A),h.abort(),h=null)},o.cancelToken&&o.cancelToken.subscribe(u),o.signal&&(o.signal.aborted?u():o.signal.addEventListener("abort",u)));const R=As(o.url);if(R&&P.protocols.indexOf(R)===-1){s(new E("Unsupported protocol "+R+":",E.ERR_BAD_REQUEST,e));return}h.send(r||null)})},Ds=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let s=new AbortController,o;const r=function(l){if(!o){o=!0,c();const u=l instanceof Error?l:this.reason;s.abort(u instanceof E?u:new Y(u instanceof Error?u.message:u))}};let i=t&&setTimeout(()=>{i=null,r(new E("timeout ".concat(t," of ms exceeded"),E.ETIMEDOUT))},t);const c=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(l=>{l.unsubscribe?l.unsubscribe(r):l.removeEventListener("abort",r)}),e=null)};e.forEach(l=>l.addEventListener("abort",r));const{signal:f}=s;return f.unsubscribe=()=>a.asap(c),f}},Ns=Ds,Fs=function*(e,t){let n=e.byteLength;if(!t||n<t){yield e;return}let s=0,o;for(;s<n;)o=s+t,yield e.slice(s,o),s=o},vs=async function*(e,t){for await(const n of Ms(e))yield*Fs(n,t)},Ms=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:s}=await t.read();if(n)break;yield s}}finally{await t.cancel()}},st=(e,t,n,s)=>{const o=vs(e,t);let r=0,i,c=f=>{i||(i=!0,s&&s(f))};return new ReadableStream({async pull(f){try{const{done:l,value:u}=await o.next();if(l){c(),f.close();return}let d=u.byteLength;if(n){let y=r+=d;n(y)}f.enqueue(new Uint8Array(u))}catch(l){throw c(l),l}},cancel(f){return c(f),o.return()}},{highWaterMark:2})},Ee=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Lt=Ee&&typeof ReadableStream=="function",ks=Ee&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),Ut=(e,...t)=>{try{return!!e(...t)}catch(n){return!1}},xs=Lt&&Ut(()=>{let e=!1;const t=new Request(P.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),ot=64*1024,Pe=Lt&&Ut(()=>a.isReadableStream(new Response("").body)),ae={stream:Pe&&(e=>e.body)};Ee&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!ae[t]&&(ae[t]=a.isFunction(e[t])?n=>n[t]():(n,s)=>{throw new E("Response type '".concat(t,"' is not supported"),E.ERR_NOT_SUPPORT,s)})})})(new Response);const Bs=async e=>{if(e==null)return 0;if(a.isBlob(e))return e.size;if(a.isSpecCompliantForm(e))return(await new Request(P.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(a.isArrayBufferView(e)||a.isArrayBuffer(e))return e.byteLength;if(a.isURLSearchParams(e)&&(e=e+""),a.isString(e))return(await ks(e)).byteLength},Hs=async(e,t)=>{const n=a.toFiniteNumber(e.getContentLength());return n==null?Bs(t):n},Vs=Ee&&(async e=>{let{url:t,method:n,data:s,signal:o,cancelToken:r,timeout:i,onDownloadProgress:c,onUploadProgress:f,responseType:l,headers:u,withCredentials:d="same-origin",fetchOptions:y}=Ct(e);l=l?(l+"").toLowerCase():"text";let _=Ns([o,r&&r.toAbortSignal()],i),p;const m=_&&_.unsubscribe&&(()=>{_.unsubscribe()});let h;try{if(f&&xs&&n!=="get"&&n!=="head"&&(h=await Hs(u,s))!==0){let O=new Request(t,{method:"POST",body:s,duplex:"half"}),M;if(a.isFormData(s)&&(M=O.headers.get("content-type"))&&u.setContentType(M),O.body){const[B,ee]=et(h,ie(tt(f)));s=st(O.body,ot,B,ee)}}a.isString(d)||(d=d?"include":"omit");const S="credentials"in Request.prototype;p=new Request(t,{...y,signal:_,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:s,duplex:"half",credentials:S?d:void 0});let R=await fetch(p);const A=Pe&&(l==="stream"||l==="response");if(Pe&&(c||A&&m)){const O={};["status","statusText","headers"].forEach(Ge=>{O[Ge]=R[Ge]});const M=a.toFiniteNumber(R.headers.get("content-length")),[B,ee]=c&&et(M,ie(tt(c),!0))||[];R=new Response(st(R.body,ot,B,()=>{ee&&ee(),m&&m()}),O)}l=l||"text";let v=await ae[a.findKey(ae,l)||"text"](R,e);return!A&&m&&m(),await new Promise((O,M)=>{Ot(O,M,{data:v,headers:C.from(R.headers),status:R.status,statusText:R.statusText,config:e,request:p})})}catch(S){throw m&&m(),S&&S.name==="TypeError"&&/fetch/i.test(S.message)?Object.assign(new E("Network Error",E.ERR_NETWORK,e,p),{cause:S.cause||S}):E.from(S,S&&S.code,e,p)}}),Oe={http:es,xhr:Us,fetch:Vs};a.forEach(Oe,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(n){}Object.defineProperty(e,"adapterName",{value:t})}});const rt=e=>"- ".concat(e),qs=e=>a.isFunction(e)||e===null||e===!1,Dt={getAdapter:e=>{e=a.isArray(e)?e:[e];const{length:t}=e;let n,s;const o={};for(let r=0;r<t;r++){n=e[r];let i;if(s=n,!qs(n)&&(s=Oe[(i=String(n)).toLowerCase()],s===void 0))throw new E("Unknown adapter '".concat(i,"'"));if(s)break;o[i||"#"+r]=s}if(!s){const r=Object.entries(o).map(([c,f])=>"adapter ".concat(c," ")+(f===!1?"is not supported by the environment":"is not available in the build"));let i=t?r.length>1?"since :\n"+r.map(rt).join("\n"):" "+rt(r[0]):"as no adapter specified";throw new E("There is no suitable adapter to dispatch the request "+i,"ERR_NOT_SUPPORT")}return s},adapters:Oe};function _e(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Y(null,e)}function it(e){return _e(e),e.headers=C.from(e.headers),e.data=we.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Dt.getAdapter(e.adapter||xe.adapter)(e).then(function(s){return _e(e),s.data=we.call(e,e.transformResponse,s),s.headers=C.from(s.headers),s},function(s){return Pt(s)||(_e(e),s&&s.response&&(s.response.data=we.call(e,e.transformResponse,s.response),s.response.headers=C.from(s.response.headers))),Promise.reject(s)})}const Nt="1.7.9",me={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{me[e]=function(s){return typeof s===e||"a"+(t<1?"n ":" ")+e}});const at={};me.transitional=function(t,n,s){function o(r,i){return"[Axios v"+Nt+"] Transitional option '"+r+"'"+i+(s?". "+s:"")}return(r,i,c)=>{if(t===!1)throw new E(o(i," has been removed"+(n?" in "+n:"")),E.ERR_DEPRECATED);return n&&!at[i]&&(at[i]=!0,console.warn(o(i," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(r,i,c):!0}};me.spelling=function(t){return(n,s)=>(console.warn("".concat(s," is likely a misspelling of ").concat(t)),!0)};function js(e,t,n){if(typeof e!="object")throw new E("options must be an object",E.ERR_BAD_OPTION_VALUE);const s=Object.keys(e);let o=s.length;for(;o-- >0;){const r=s[o],i=t[r];if(i){const c=e[r],f=c===void 0||i(c,r,e);if(f!==!0)throw new E("option "+r+" must be "+f,E.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new E("Unknown option "+r,E.ERR_BAD_OPTION)}}const oe={assertOptions:js,validators:me},U=oe.validators;class ce{constructor(t){this.defaults=t,this.interceptors={request:new Qe,response:new Qe}}async request(t,n){try{return await this._request(t,n)}catch(s){if(s instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const r=o.stack?o.stack.replace(/^.+\n/,""):"";try{s.stack?r&&!String(s.stack).endsWith(r.replace(/^.+\n.+\n/,""))&&(s.stack+="\n"+r):s.stack=r}catch(i){}}throw s}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=V(this.defaults,n);const{transitional:s,paramsSerializer:o,headers:r}=n;s!==void 0&&oe.assertOptions(s,{silentJSONParsing:U.transitional(U.boolean),forcedJSONParsing:U.transitional(U.boolean),clarifyTimeoutError:U.transitional(U.boolean)},!1),o!=null&&(a.isFunction(o)?n.paramsSerializer={serialize:o}:oe.assertOptions(o,{encode:U.function,serialize:U.function},!0)),oe.assertOptions(n,{baseUrl:U.spelling("baseURL"),withXsrfToken:U.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let i=r&&a.merge(r.common,r[n.method]);r&&a.forEach(["delete","get","head","post","put","patch","common"],p=>{delete r[p]}),n.headers=C.concat(i,r);const c=[];let f=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(n)===!1||(f=f&&m.synchronous,c.unshift(m.fulfilled,m.rejected))});const l=[];this.interceptors.response.forEach(function(m){l.push(m.fulfilled,m.rejected)});let u,d=0,y;if(!f){const p=[it.bind(this),void 0];for(p.unshift.apply(p,c),p.push.apply(p,l),y=p.length,u=Promise.resolve(n);d<y;)u=u.then(p[d++],p[d++]);return u}y=c.length;let _=n;for(d=0;d<y;){const p=c[d++],m=c[d++];try{_=p(_)}catch(h){m.call(this,h);break}}try{u=it.call(this,_)}catch(p){return Promise.reject(p)}for(d=0,y=l.length;d<y;)u=u.then(l[d++],l[d++]);return u}getUri(t){t=V(this.defaults,t);const n=It(t.baseURL,t.url);return At(n,t.params,t.paramsSerializer)}}a.forEach(["delete","get","head","options"],function(t){ce.prototype[t]=function(n,s){return this.request(V(s||{},{method:t,url:n,data:(s||{}).data}))}});a.forEach(["post","put","patch"],function(t){function n(s){return function(r,i,c){return this.request(V(c||{},{method:t,headers:s?{"Content-Type":"multipart/form-data"}:{},url:r,data:i}))}}ce.prototype[t]=n(),ce.prototype[t+"Form"]=n(!0)});const re=ce;class Be{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(r){n=r});const s=this;this.promise.then(o=>{if(!s._listeners)return;let r=s._listeners.length;for(;r-- >0;)s._listeners[r](o);s._listeners=null}),this.promise.then=o=>{let r;const i=new Promise(c=>{s.subscribe(c),r=c}).then(o);return i.cancel=function(){s.unsubscribe(r)},i},t(function(r,i,c){s.reason||(s.reason=new Y(r,i,c),n(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=s=>{t.abort(s)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new Be(function(o){t=o}),cancel:t}}}const Gs=Be;function $s(e){return function(n){return e.apply(null,n)}}function Ys(e){return a.isObject(e)&&e.isAxiosError===!0}const Ie={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ie).forEach(([e,t])=>{Ie[t]=e});const Ws=Ie;function Ft(e){const t=new re(e),n=dt(re.prototype.request,t);return a.extend(n,re.prototype,t,{allOwnKeys:!0}),a.extend(n,t,null,{allOwnKeys:!0}),n.create=function(o){return Ft(V(e,o))},n}const w=Ft(xe);w.Axios=re;w.CanceledError=Y;w.CancelToken=Gs;w.isCancel=Pt;w.VERSION=Nt;w.toFormData=pe;w.AxiosError=E;w.Cancel=w.CanceledError;w.all=function(t){return Promise.all(t)};w.spread=$s;w.isAxiosError=Ys;w.mergeConfig=V;w.AxiosHeaders=C;w.formToJSON=e=>bt(a.isHTMLForm(e)?new FormData(e):e);w.getAdapter=Dt.getAdapter;w.HttpStatusCode=Ws;w.default=w;const ct=w;class zs{static async get(t,n,s){try{return await ct.get(t)}catch(o){return console.log("Network Error",o),!n||s&&s>n?null:await this.get(t,n,s?s+1:1)}}static async post(t,n,s){var o;try{return await ct.post(t,JSON.parse(s),{headers:n})}catch(r){console.log("Network Error",r),console.log("Network Online Status",(o=window.navigator)==null?void 0:o.onLine)}}}var te,Ks=new Uint8Array(16);function Js(){if(!te&&(te=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!te))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return te(Ks)}const Xs=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Qs(e){return typeof e=="string"&&Xs.test(e)}var b=[];for(var Re=0;Re<256;++Re)b.push((Re+256).toString(16).substr(1));function Zs(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(b[e[t+0]]+b[e[t+1]]+b[e[t+2]]+b[e[t+3]]+"-"+b[e[t+4]]+b[e[t+5]]+"-"+b[e[t+6]]+b[e[t+7]]+"-"+b[e[t+8]]+b[e[t+9]]+"-"+b[e[t+10]]+b[e[t+11]]+b[e[t+12]]+b[e[t+13]]+b[e[t+14]]+b[e[t+15]]).toLowerCase();if(!Qs(n))throw TypeError("Stringified UUID is invalid");return n}function He(e,t,n){e=e||{};var s=e.random||(e.rng||Js)();if(s[6]=s[6]&15|64,s[8]=s[8]&63|128,t){n=n||0;for(var o=0;o<16;++o)t[n+o]=s[o];return t}return Zs(s)}const Hr="tolstoy-interaction-date-verification",Vr="player-buttons",qr="feed-hide-share",jr="feed-hide-checkout-button",Gr="player-resolution",$r="feed-use-mux",eo="widget-events",Yr="feed-hide-buy-now-button",Wr="feed-open-pdp-in-same-tab",zr="feed-open-description-cta-in-same-tab",Kr="player-hide-end-screen",Jr="recharge-integration",Xr="tolstoy-customer-login",Qr="description-close-feed-pdp",Zr="player-feed-custom-style",ei="show-video-name",ti="feed-product-variant-picker",ni="feed-report-button",si="feed-video-search",oi="white-label",ri="studio-white-label",ii="player-feed-mobile-price-top-location",ai="interactive-feed",ci="interactive-feed-post-mvp",li="shopify-price-formatting",ui="https://www.gotolstoy.com/?utm_source=watermark&utm_medium=player&utm_campaign=logo_header",to="isShopifyStore",no="shopifyStoreUrl",di="shopifyRootRoute",so="currentPageDbProductId",oo="productId",fi="variant",ro="isTapcart",io="tolstoyStartVideo",pi="tolstoyAutoOpen",hi="shopifypreview.com",ao=160,co=e=>{const t=parseInt(e.substring(1,3),16),n=parseInt(e.substring(3,5),16),s=parseInt(e.substring(5,7),16);return[t,n,s]},lo=e=>{const[t,n,s]=co(e);return(t*299+n*587+s*114)/1e3},uo=e=>e?lo(e)<ao:!1,fo=e=>Math.round(e*2.55).toString(16).toUpperCase().padStart(2,"0"),Ei=(e,t)=>"".concat(e).concat(fo(t)),po=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,ho=["Win32","Win64","Windows","WinCE"],j=class j{static getIsEmbed(t){return t==="embed"}static getIsTv(t){return t==="tv"}static getIsAiVideo(t){return t==="aiVideo"}static getIsLandingPage(){return!window.location.search.includes("host")}static getParam(t){return new URLSearchParams(window.location.search).get(t)}static getPlayerVersion(){return this.getParam("pv")}static getWidgetSessionId(){return this.getParam("si")}static getWidgetAnonymousId(){return this.getParam("ai")}static getResolution(){return this.getParam("resolution")}static getPlayerType(){return this.getParam("playerType")}static getIsAppPreview(){return window.location.origin===hn}static getParentUrl(){return this.getParam("url")}static getName(){return this.getParam("name")}static getEmail(){return this.getParam("email")}static getPhone(){return this.getParam("phone")}static getVodAssetId(){return this.getParam("vodAssetId")}static getReplyProjectId(){return this.getParam("replyProjectId")}static getIsShoppable(){return this.getParam("isShoppable")!=="false"}static getCurrentPageDbProductId(){return this.getParam(so)}static getProductId(){return this.getParam(oo)}static getIsDebug(){return this.getParam("td")}static getIsDynamic(){return this.getParam("isDynamic")==="true"}static getShopifyStoreUrl(){return this.getParam(no)}static getPlayerId(){return this.getParam("pi")}static getIsShopifyStore(){return this.getParam(to)==="true"}static getIsTapcart(){return this.getParam(ro)==="true"}static getStartVideoId(){return this.getParam(io)}static isNullOrUndefined(t){return t==null}static isSafari(){const t=new URLSearchParams(window.location.search);return window.safari!==void 0||t.get("safari")==="true"}static isIphone(){return navigator.platform==="iPhone"||navigator.platform==="iPhone Simulator"}static isValidEmail(t){return t&&!t.endsWith(".dbz")&&po.test(String(t).toLowerCase())}static isFirefox(){return navigator.userAgent.toLowerCase().indexOf("firefox")>-1}static isWindows(){return ho.some(t=>t===navigator.platform)}static componentLoader(t,n){return n=n||20,new Promise((s,o)=>{t().then(s).catch(()=>{setTimeout(()=>{if(n===1){this.log("Failed to lazy load component.");return}this.componentLoader(t,n-1).then(s,o)},500)})})}static log(t){if(window.Sentry){window.Sentry.captureMessage(t);return}console.error(t)}static logError(t,n){if(!window.Sentry){console.log("error ",t,n);return}n?window.Sentry.captureException(t,{tags:{message:n}}):window.Sentry.captureException(t)}static async hasPermission(t){try{const n=await navigator.permissions.query({name:t});return(n==null?void 0:n.state)==="granted"}catch(n){return console.error(n),!1}}static isMobile(){return this.isAndroid()||this.isIos()}static openInNewTab(t){window.open(t,"_blank","noopener, noreferrer").focus()}static isAndroid(){return navigator.userAgent.toLowerCase().indexOf("android")>-1}static isIos(){return/iPad|iPhone|iPod/.test(navigator.platform)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1}static isChrome(){return/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}static enforceProtocol(t,n="https"){return t.startsWith("http")||t.startsWith("//")||t.startsWith("tel:")||t.startsWith("mailto:")?t:"".concat(n,"://").concat(t)}static addUrlParam(t,n,s){const o=new URL(this.enforceProtocol(t));return o.searchParams.set(n,s),o.toString()}static getVisibilityEventNames(){let t,n;return typeof document.hidden<"u"?(t="hidden",n="visibilitychange"):typeof document.msHidden<"u"?(t="msHidden",n="msvisibilitychange"):typeof document.webkitHidden<"u"&&(t="webkitHidden",n="webkitvisibilitychange"),{hidden:t,visibilityChange:n}}static loadScript(t,n){const s=document.createElement("script");s.type="text/javascript",s.async=!0,s.src=t,n&&(s.onload=n);const o=document.getElementsByTagName("script")[0];o.parentNode.insertBefore(s,o)}static sizeInBytesToMb(t){return(t/(1024*1024)).toFixed(2)}static isInnerTheme(t){return t==="inner"}static uniq(t){return[...new Set(t)]}static getFromArray(t,n,s){return n.reduce((o,r)=>o&&o[r],t)||s}static formatDateMinutes(t){return("0"+t.getMinutes()).slice(-2)}static isResponse(t){return[g.audioResponse,g.videoResponse,g.imageResponse,g.collectInfo,g.submitInput].includes(t)}static isLightHouse(t){return t.toLocaleLowerCase().includes("chrome-lighthouse")}static getButtonTextColor({color:t,theme:n,defaultColor:s}){return t?uo(t)?n.colors.white:n.colors.black:s||n.colors.white}static scheduleCallbackToNextRender(t){requestAnimationFrame(()=>{requestAnimationFrame(()=>{t()})})}static getAccountLogoUrl(t){return"".concat(pn,"/public/assets/").concat(t,"/player-logo.png")}static checkIfUrlIsAllowed(t,n){if(!n)return!0;let s;try{s=new URL(t).origin}catch(o){return j.logError("Failed to parse url",t),!1}return n.some(o=>(o=new URL(o).origin,s===o))}static checkIfParentUrlIsAllowed(t){if(!t)return!0;const n=j.getIsLandingPage()?window.location.href:document.referrer;return j.checkIfUrlIsAllowed(n,t)}};$e(j,"getCookieValue",t=>{var n;return((n=document.cookie.match("(^|;)\\s*"+t+"\\s*=\\s*([^;]+)"))==null?void 0:n.pop())||""});let T=j;function mi(){(function(e,t,n,s,o,r,i){e.fbq||(o=e.fbq=function(){o.callMethod?o.callMethod.apply(o,arguments):o.queue.push(arguments)},e._fbq||(e._fbq=o),o.push=o,o.loaded=!0,o.version="2.0",o.queue=[],r=t.createElement(n),r.async=!0,r.src=s,i=t.getElementsByTagName(n)[0],i.parentNode.insertBefore(r,i))})(window,document,"script","https://connect.facebook.net/en_US/fbevents.js")}const Eo=e=>{const{eventName:t,facebookAnalyticsID:n,playlist:s,text:o,collectInfoType:r}=e;if(!window.fbq||!n)return;const i="tolstoy-".concat(s);t===g.sessionStart?k(n,"".concat(i,"-click"),{value:"Start Tolstoy"}):t===g.clickCta?k(n,"".concat(i,"-click"),{value:o}):t===g.submitInput?k(n,"".concat(i,"-input"),{value:o}):t===g.collectInfo?k(n,"".concat(i,"-").concat(g.collectInfo),{value:r}):t===g.videoResponse?k(n,"".concat(i,"-").concat(g.videoResponse)):t===g.imageResponse?k(n,"".concat(i,"-").concat(g.imageResponse)):t===g.audioResponse?k(n,"".concat(i,"-").concat(g.audioResponse)):t===g.sessionEnd&&k(n,"".concat(i,"-").concat(g.sessionEnd))},k=(e,t,n)=>{window.fbq("trackSingleCustom",e,t,n)},mo=e=>{!e||!window.fbq||(window.fbq("init",dn),window.fbq("track","PageView"),window.fbq("init",e),window.fbq("trackSingle",e,"PageView"))},gi=()=>{if(window.gtag||window.dataLayer)return;const e=document.createElement("script");e.src="https://www.googletagmanager.com/gtag/js?id=".concat(We),document.head.appendChild(e),window.dataLayer=window.dataLayer||[];function t(){window.dataLayer.push(arguments)}window.gtag=t,window.gtag("js",new Date),window.gtag("config",We)},go=({eventName:e,text:t,playlist:n,collectInfoType:s})=>{window.gtag&&(e===g.sessionStart?(D(n,"click","Start Tolstoy"),D(n,N.sessionStart)):e===g.clickCta?(D(n,"click",t),D(n,N.clickCta,t)):e===g.submitInput?D(n,N.submitInput):e===g.collectInfo?D(n,N.collectInfo,s):e===g.videoResponse?D(n,N.videoResponse):e===g.imageResponse?D(n,N.imageResponse):e===g.audioResponse?D(n,N.audioResponse):e===g.sessionEnd&&D(n,N.sessionEnd))},D=(e,t,n)=>{const s="tolstoy-".concat(e);window.gtag("event",t,{event_category:s,event_label:n})},yo=e=>{const t=e;!t||!window.gtag||(window.gtag("config",t,{campaign_name:"clientTracker",cookie_domain:"auto",cookie_flags:"max-age=7200;secure;samesite=none"}),window.gtag("event","tolstoyPageView"))},So=4e3;let vt=!1;const Ce=[],wo=()=>{for(;Ce.length;){const{eventFunction:e,args:t}=Ce.shift();e(...t)}};setTimeout(()=>{vt=!0,wo()},So);const _o=e=>(...t)=>{if(vt)return e(...t);Ce.push({eventFunction:e,args:t})},Mt={VISIBILITY_CHANGE:"visibilitychange",MODAL_CLOSE:"tolstoyModalClose",PLAY:"tolstoyPlay",ADD_TO_CART:"addToCart",CART_ITEM_QUANTITY_CHANGE:"cartItemQuantityChange"},yi={getProductsMetafields:"getProductsMetafields",returnProductsMetafields:"returnProductsMetafields"},x={},Si=(e,t)=>{x[e]||(x[e]=[]),x[e].push(t)},wi=(e,t)=>{x[e]&&(x[e]=x[e].filter(n=>n!==t))},kt=(e,t)=>{x[e]&&x[e].forEach(n=>n(t))},Ro=e=>{kt(Mt.VISIBILITY_CHANGE,e)},Ao=e=>{const t=Bt(e);kt(t,e)},xt={[Mt.VISIBILITY_CHANGE]:Ro},_i=()=>{window.addEventListener("message",e=>{Ao(e)}),Object.entries(xt).forEach(([e,t])=>{document.addEventListener(e,t)})},Ri=()=>{Object.entries(xt).forEach(([e,t])=>{document.removeEventListener(e,t)})},Bt=e=>{var t,n;return((t=e.data)==null?void 0:t.eventName)||((n=e.data)==null?void 0:n.name)||e.data},Ht=["mousedown","mousemove","keypress","scroll","touchstart","keydown"],To=[g.pageView,"embedView"];let F={sessionId:T.getWidgetSessionId()||He()};const bo=7200,Po=60,Oo=1e3;let J=0,Vt=0,Ve=0,G,q,z=0,Z=!1,X=0,qt={},Le=!1,Ue=!1;const jt=({playerType:e}={})=>T.getIsEmbed(e)||T.getIsLandingPage()||!qt[eo]?!0:Le?!1:!T.getWidgetSessionId();window.addEventListener("message",e=>{if(!e.data)return;const t=Bt(e);t===ln&&F.parentUrl&&Yt(),t==="setTolstoyData"&&qe({parentUrl:e.data.parentUrl}),t==="tolstoyWidgetShown"&&jt()&&je(g.pageView,F),t==="embedView"&&Lo(le(e)),e.data.playerVariant==="inTileCarousel"&&Co(le(e))});const Io=e=>To.includes(e),le=e=>{const{name:t,...n}=e.data;return{eventName:t,data:n}},Co=({eventName:e,data:t={}}={})=>{Io(e)||($t(t),ge(e,t))},Lo=({data:e={}}={})=>{Gt(e)},Gt=(e={})=>{ge("embedView",e)},$t=(e={})=>{Ue||(Ue=!0,ge(g.sessionStart,e))},Yt=(e=!0)=>{F.sessionId=He(),Vt=J,J=0,Ve=0,z=0,Z=!1,X=0,Ue=!1,e&&(clearInterval(G),Ne(),G=null)},qe=e=>{F={...F,...e}},Wt=()=>{const e=T.getWidgetAnonymousId();if(e)return e;try{const t=document.cookie.split("; ").find(n=>n.startsWith("tolstoy-anonymousId"));if(t){const[,n]=t.split("=");return n}return window.localStorage.getItem("tolstoy-anonymousId")}catch(t){return console.log("Failed to read from the local storage."),null}},Uo=e=>{if(!(!e||e==="undefined"))try{window.localStorage.setItem("tolstoy-anonymousId",e),document.cookie="tolstoy-anonymousId=".concat(e,"; samesite=none; secure=true; domain=gotolstoy.com; path=/; max-age=31536000;")}catch(t){console.log("Failed to read from the local storage.")}},Do=e=>{if(!e)return;const t=T.getCookieValue("tolstoy-viewed");if(t.includes(e))return;const n=t.split(",");let s;n.length===10?(n.pop(),n.unshift(e),s=n.join(",")):s="".concat(e).concat(t&&",".concat(t)),document.cookie="tolstoy-viewed=".concat(s,"; samesite=none; secure=true; Domain=gotolstoy.com")},zt=(e,t,n={},s={})=>{window.anonymousId=e.anonymousId||Wt();const{facebookAnalyticsID:o,preview:r}=e;console.log("init analytics");const i={...e};Object.keys(n).length&&(i.customParams=JSON.stringify(n)),qt=s,qe(i),(!window.anonymousId||["undefined","false"].includes(window.anonymousId))&&(window.anonymousId=He()),Uo(window.anonymousId),No({preview:r,facebookAnalyticsID:o,analyticsData:F,delayPageView:t})},No=({preview:e,facebookAnalyticsID:t,analyticsData:n,delayPageView:s})=>{Le||s||(e||(yo(n.googleAnalyticsID),mo(t)),jt(n)&&(je(g.pageView,n),Kt(g.pageView,n)),Le=!0)},ge=async(e,t)=>{g.sessionStart===e&&!G&&!F.preview&&(G=window.setInterval(Mo,1e3)),e===g.videoPause?Ne():[g.sessionStart,g.videoStart,g.videoResume].includes(e)&&lt();const n={...F,...t,responseTime:Ve};n.answerType&&(Ne(),z=0),!n.answerType&&z&&T.isResponse(e)&&(lt(),n.responseTime=z),Kt(e,n),console.log("track",e,n),await je(e,n)},Kt=(e,t)=>{const n=N[e]||g[e]||e,s={};if(!n||(e===g.sessionStart&&Do(t.publishId),window.parent.postMessage({...t,anonymousId:window.anonymousId,name:n,totalTime:J||Vt,...s},"*"),!N[e]))return;const o=new CustomEvent("tolstoyPlayerEvent",{detail:{...t,anonymousId:window.anonymousId,name:n}});window.dispatchEvent(o)},je=async(e,t)=>{await Fo(e,t)},Fo=async(e,t)=>{const n={timestamp:new Date().toISOString(),anonymousId:window.anonymousId,eventName:e,...t};await Bo("".concat(fn,"/events/event"),n),console.log("SENT",{anonymousId:window.anonymousId,eventName:e,...t})},vo=()=>{var t;const e=document.querySelector("#root");return!!((t=e==null?void 0:e.firstChild)!=null&&t.offsetWidth)},Mo=()=>{const e=vo();(document.hasFocus()||e)&&!document.hidden&&!Z&&(J+=1,Ve+=1,z+=1),J>=bo&&(clearInterval(G),G=null)},De=(e,t)=>zs.post(e,{},t),ko=(e,t)=>{try{if(!window.navigator.sendBeacon(e,t))return De(e,t)}catch(n){return T.logError(n),De(e,t)}},xo=_o((e,t)=>{var n;return(n=window.navigator)!=null&&n.sendBeacon?ko(e,t):De(e,t)}),Bo=async(e,t)=>{F.preview||T.getIsAppPreview()||(await xo(e,JSON.stringify(t)),go(t),Eo(t))},Jt=()=>{q||(q=setInterval(()=>{X+=1,Po===X&&Ho()},Oo))},Ho=()=>{Z=!0,clearInterval(q),X=0,q=null},Xt=()=>{X=0,Z=!1,Jt()},Ne=()=>{clearInterval(q),q=null,Z=!1,Ht.forEach(e=>{document.removeEventListener(e,Xt,!0)})},lt=()=>{q||(Jt(),Ht.forEach(e=>{document.addEventListener(e,Xt,!0)}))},Vo=()=>F.sessionId,Ai=Object.freeze(Object.defineProperty({__proto__:null,addAnalyticsData:qe,formatWidgetEventData:le,getAnonymousId:Wt,getSessionId:Vo,initAnalytics:zt,resetSession:Yt,track:ge,trackEmbedView:Gt,trackSessionStart:$t},Symbol.toStringTag,{value:"Module"})),qo=()=>T.getIsDebug()||un!=="production",jo=()=>{qo()||(window.tolstoyLogs=[],window.tolstoyConsoleLog=console.log,window.tolstoyRestoreConsoleLog=()=>{console.log=window.tolstoyConsoleLog,window.tolstoyLogs.forEach(console.log),window.tolstoyLogs=[]},console.log=function(){try{window.tolstoyLogs.push([...arguments])}catch(e){T.logError(e,"error while storing log message")}})},Qt=[],Go=["embedView","embedPlay","embedPause","embedMute","embedUnmute","embedExpand"];let Zt=!1,en={};const $o=()=>{const e=window.location.pathname,t=e==null?void 0:e.split("/");return t==null?void 0:t[(t==null?void 0:t.length)-1]},Yo=({data:e}={})=>!(e!=null&&e.name)&&!(e!=null&&e.eventName)?!0:Go.includes(e.name||e.eventName),tn=async e=>{if(console.log("new event",$o(),e),Yo(e)){console.log("event ignored");return}if(e.data.name==="analyticsData")return Jo(e.data);if(e.data.name==="pageView")return Xo(le(e));if(e.data.eventName===ut)return zo();Qt.push(e),!Zt&&await Wo()},Wo=async()=>{Zt=!0,await cn(()=>import("../index.js").then(e=>e.O),["index.css"])},zo=()=>{window.removeEventListener("message",tn),Qt.forEach(e=>{window.postMessage(e.data,window.location.origin||"*")})},Ko=()=>{window.addEventListener("message",tn)},Jo=({params:e})=>{en={playerType:T.getPlayerType(),parentUrl:T.getParentUrl(),name:T.getName(),email:T.getEmail(),phone:T.getPhone(),abTestId:e.abTestId,accountId:e.accountId,appKey:e.appKey,isMobile:e.isMobile,publishId:e.publishId,projectId:e.projectId,playlist:e.playlist,facebookAnalyticsID:e.facebookAnalyticsID,googleAnalyticsID:e.googleAnalyticsID}},Xo=({data:e})=>{zt({...en,...e})},Qo=()=>{window.parent.postMessage({eventName:ut},"*")},Zo=()=>{jo(),Ko(),Qo()};Zo();export{g as $,Ir as A,Or as B,br as C,Tr as D,Mt as E,oi as F,Sr as G,zs as H,Ur as I,cr as J,ln as K,nr as L,Dr as M,un as N,pr as O,Nr as P,hr as Q,Fr as R,Er as S,pi as T,T as U,ei as V,zt as W,ct as X,fn as Y,ge as Z,cn as _,tr as __vite_legacy_guard,io as a,ui as a0,kr as a1,uo as a2,Kr as a3,Yt as a4,N as a5,Hr as a6,Vr as a7,Gr as a8,wr as a9,Jr as aA,yi as aB,Ai as aC,yr as aD,gr as aE,mr as aF,oo as aG,Zr as aH,Mr as aI,ii as aJ,He as aK,vr as aL,fi as aa,hi as ab,Qr as ac,Ar as ad,Pr as ae,Xr as af,li as ag,lr as ah,ur as ai,ir as aj,ar as ak,rr as al,or as am,jr as an,ti as ao,Yr as ap,Wr as aq,_r as ar,Rr as as,dr as at,fr as au,ai as av,ci as aw,to as ax,no as ay,di as az,Lr as b,Wt as c,Cr as d,Ei as e,Br as f,Bt as g,mi as h,_i as i,sr as j,qr as k,gi as l,ni as m,zr as n,jo as o,si as p,ri as q,Ri as r,Si as s,$r as t,wi as u,qe as v,$t as w,xr as x,Vo as y,ut as z};
